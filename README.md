# å¡ç‰Œå°æˆ°éŠæˆ² (CardGame)

## ğŸ® é …ç›®æ¦‚è¿°

é€™æ˜¯ä¸€å€‹åŸºæ–¼ **Unreal Engine 5** é–‹ç™¼çš„å…©äººå›åˆåˆ¶å¡ç‰Œå°æˆ°éŠæˆ²ã€‚éŠæˆ²å·²å¯¦ç¾å®Œæ•´çš„æ ¸å¿ƒç³»çµ±ï¼ŒåŒ…æ‹¬å¡ç‰Œç®¡ç†ã€ç©å®¶ç³»çµ±ã€éŠæˆ²æµç¨‹æ§åˆ¶å’Œåˆ†æ•¸è¨ˆç®—ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

- âœ… **å®Œæ•´çš„å¡ç‰Œç³»çµ±** - 30 å¼µå¡ç‰Œçš„ç‰Œçµ„ç®¡ç†
- âœ… **å›åˆåˆ¶å°æˆ°** - è¼ªæµå‡ºç‰Œæ©Ÿåˆ¶ï¼Œæ”¯æŒæ™‚é–“é™åˆ¶
- âœ… **è‡ªå‹•å‡ºç‰Œ** - æ™‚é–“åˆ°æœªå‡ºç‰Œæ™‚ç³»çµ±è‡ªå‹•éš¨æ©Ÿå‡ºç‰Œ
- âœ… **åˆ†æ•¸è¨ˆç®—** - è‡ªå‹•è¨ˆç®—æ¯å›åˆçš„åˆ†æ•¸å’Œæœ€çµ‚å‹è€…
- âœ… **æ˜“æ–¼é›†æˆ** - æ¸…æ™°çš„ API æ¥å£ï¼Œæ”¯æŒ Blueprint
- âœ… **æ¸¬è©¦å·¥å…·** - å…§ç½®éŠæˆ²æ¸¬è©¦å·¥å…·ï¼Œæ”¯æŒè‡ªå‹•æ¨¡æ“¬

## ğŸ¯ éŠæˆ²è¦å‰‡

### éŠæˆ²åˆå§‹åŒ–
- æ¯å€‹ç©å®¶ç²å¾— 30 å¼µç‰Œçµ„ï¼ˆç·¨è™Ÿ 1-30ï¼‰
- éŠæˆ²é–‹å§‹æ™‚æ¯å€‹ç©å®¶å¾ç‰Œçµ„ä¸­éš¨æ©ŸæŠ½å– 10 å¼µç‰Œ

### éŠæˆ²æµç¨‹
1. éš¨æ©Ÿæ±ºå®šå…ˆå‡ºç‰Œçš„ä¸€æ–¹
2. é›™æ–¹è¼ªæµå‡ºç‰Œï¼Œæ¯å›åˆé™æ™‚ 30 ç§’
3. æ™‚é–“åˆ°æœªå‡ºç‰Œæ™‚ç³»çµ±è‡ªå‹•éš¨æ©Ÿå‡ºç‰Œ
4. æ¯”è¼ƒé›™æ–¹å¡ç‰Œæ•¸å€¼ï¼Œæ•¸å€¼å¤§çš„ç©å®¶ç²å¾—åˆ†æ•¸ï¼ˆåˆ†æ•¸ = é›™æ–¹å¡ç‰Œæ•¸å€¼ä¹‹å’Œï¼‰
5. äº¤äº’å‡ºç‰Œç›´åˆ°é›™æ–¹æ‰‹ç‰Œéƒ½ç©º
6. ç´¯è¨ˆåˆ†æ•¸é«˜çš„ç©å®¶ç²å‹

## ğŸ“ é …ç›®çµæ§‹

```
Source/CardGame/
â”œâ”€â”€ Card.h / Card.cpp
â”‚   â””â”€â”€ å¡ç‰Œå’Œç‰Œçµ„ç³»çµ±
â”œâ”€â”€ Player.h / Player.cpp
â”‚   â””â”€â”€ ç©å®¶ç®¡ç†ç³»çµ±
â”œâ”€â”€ CardBattle.h / CardBattle.cpp
â”‚   â””â”€â”€ éŠæˆ²å°æˆ°æ ¸å¿ƒé‚è¼¯ï¼ˆGameModeï¼‰
â”œâ”€â”€ CardGamePlayer.h / CardGamePlayer.cpp
â”‚   â””â”€â”€ ç©å®¶æ§åˆ¶å™¨ç¤ºä¾‹
â”œâ”€â”€ CardGameTester.h / CardGameTester.cpp
â”‚   â””â”€â”€ éŠæˆ²æ¸¬è©¦å·¥å…·
â”œâ”€â”€ CardGame.h / CardGame.cpp
â”‚   â””â”€â”€ éŠæˆ²æ¨¡å¡Š
â””â”€â”€ CardGame.Build.cs
    â””â”€â”€ ç·¨è­¯é…ç½®
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. ç·¨è­¯é …ç›®
```bash
# ä½¿ç”¨ Visual Studio ç·¨è­¯
CardGame.sln â†’ å³éµ Build
```

### 2. åœ¨ UE5 ä¸­è¨­ç½®

#### è¨­ç½® GameMode
1. å‰µå»º Blueprint é¡åŸºæ–¼ `ACardBattle`ï¼Œå‘½åç‚º `BP_CardBattle`
2. Project Settings â†’ Maps & Modes â†’ è¨­ç½® Default GameMode ç‚º `BP_CardBattle`

#### è¨­ç½®ç©å®¶ Pawn
1. å‰µå»º Blueprint é¡åŸºæ–¼ `ACardGamePlayer`ï¼Œå‘½åç‚º `BP_CardGamePlayer`
2. åœ¨ `BP_CardBattle` ä¸­è¨­ç½® Player Pawn Class ç‚º `BP_CardGamePlayer`

#### æ¸¬è©¦éŠæˆ²
1. åœ¨ Level ä¸­æ”¾ç½® `ACardGameTester` Actor
2. é€šéè—åœ–æˆ– C++ ä»£ç¢¼èª¿ç”¨ `StartTestGame()` é–‹å§‹éŠæˆ²

### 3. é‹è¡ŒéŠæˆ²
åœ¨ UE5 ç·¨è¼¯å™¨ä¸­æŒ‰ Play æŒ‰éˆ•é–‹å§‹éŠæˆ²

## ğŸ“š æ–‡æª”

- **[SYSTEM_DOCUMENTATION.md](SYSTEM_DOCUMENTATION.md)** - ç³»çµ±æ¶æ§‹è©³ç´°èªªæ˜
- **[INTEGRATION_GUIDE.md](INTEGRATION_GUIDE.md)** - é›†æˆå’Œä½¿ç”¨æŒ‡å—

## ğŸ”§ æ ¸å¿ƒé¡èªªæ˜

### FCard çµæ§‹
```cpp
USTRUCT(BlueprintType)
struct FCard {
    int32 CardValue;  // 1-30 çš„å¡ç‰Œæ•¸å€¼
};
```

### UCardDeck é¡
ç®¡ç†ä¸€å€‹å®Œæ•´çš„å¡ç‰Œçµ„ï¼ˆ30 å¼µç‰Œï¼‰ï¼Œæä¾›æ‰“äº‚å’ŒæŠ½ç‰ŒåŠŸèƒ½ã€‚

### APlayer é¡
ä»£è¡¨éŠæˆ²ä¸­çš„ä¸€å€‹ç©å®¶ï¼Œç®¡ç†æ‰‹ç‰Œã€åˆ†æ•¸å’Œç‰Œçµ„ã€‚

### ACardBattle é¡ (GameMode)
æ ¸å¿ƒéŠæˆ²é‚è¼¯ï¼Œç®¡ç†æ•´å€‹éŠæˆ²æµç¨‹ã€å›åˆè¨ˆæ™‚å’Œåˆ†æ•¸è¨ˆç®—ã€‚

### ACardGamePlayer é¡
ç©å®¶æ§åˆ¶å™¨ï¼Œå±•ç¤ºå¦‚ä½•èˆ‡éŠæˆ²ç³»çµ±äº¤äº’ï¼ˆç¤ºä¾‹å¯¦ç¾ï¼‰ã€‚

### ACardGameTester é¡
æ¸¬è©¦å·¥å…·ï¼Œæ”¯æŒè‡ªå‹•æ¨¡æ“¬éŠæˆ²æµç¨‹å’Œèª¿è©¦ã€‚

## ğŸ’» API é€ŸæŸ¥

### é–‹å§‹/çµæŸéŠæˆ²
```cpp
BattleGameMode->StartGame();    // é–‹å§‹éŠæˆ²
BattleGameMode->EndGame();      // çµæŸéŠæˆ²
```

### å‡ºç‰Œ
```cpp
BattleGameMode->PlayerPlayCard(PlayerId, CardIndex);  // æŒ‡å®šä½ç½®å‡ºç‰Œ
```

### æŸ¥è©¢ç‹€æ…‹
```cpp
BattleGameMode->GetBattleState();              // éŠæˆ²ç‹€æ…‹
BattleGameMode->GetCurrentTurnPlayerId();      // ç•¶å‰ç©å®¶
BattleGameMode->GetPlayerHand(PlayerId);      // ç©å®¶æ‰‹ç‰Œ
BattleGameMode->GetPlayerScore(PlayerId);     // ç©å®¶åˆ†æ•¸
BattleGameMode->GetRemainingTurnTime();       // å‰©é¤˜æ™‚é–“
BattleGameMode->GetLastRoundInfo();           // ä¸Šä¸€å›åˆä¿¡æ¯
BattleGameMode->GetWinner();                  // æœ€çµ‚ç²å‹è€…
```

## ğŸ® æ¸¬è©¦éŠæˆ²

### ä½¿ç”¨æ¸¬è©¦å·¥å…·
```cpp
Tester->StartTestGame();        // é–‹å§‹è‡ªå‹•éŠæˆ²
Tester->SimulateGameRound();    // é€²è¡Œä¸€æ­¥æ¨¡æ“¬
Tester->StopTestGame();         // åœæ­¢éŠæˆ²
Tester->SetAutoPlayDelay(2.0f); // è¨­ç½®è‡ªå‹•å‡ºç‰Œå»¶é²
```

## ğŸ”„ éŠæˆ²ç‹€æ…‹æµè½‰

```
Idle
  â†“
Started â†’ DetermineFirstPlayer
  â†“
WaitingForPlayer0 â†â†’ WaitingForPlayer1
  â†“
ResolveRound
  â†“
(CheckGameOver?)
  â”œâ”€ Yes â†’ GameOver (DetermineWinner)
  â””â”€ No â†’ GoToNextTurn
```

## ğŸ“‹ éŠæˆ²ç‹€æ…‹æšèˆ‰

```cpp
enum class EBattleState : uint8 {
    Idle = 0,              // ç©ºé–’
    Started = 1,           // éŠæˆ²å·²é–‹å§‹
    WaitingForPlayer0 = 2, // ç­‰å¾…ç©å®¶ 0 å‡ºç‰Œ
    WaitingForPlayer1 = 3, // ç­‰å¾…ç©å®¶ 1 å‡ºç‰Œ
    RoundEnd = 4,          // å›åˆçµæŸ
    GameOver = 5           // éŠæˆ²çµæŸ
};
```

## ğŸ› ï¸ ç·¨è­¯è¦æ±‚

- **Unreal Engine 5.0** æˆ–æ›´é«˜ç‰ˆæœ¬
- **Visual Studio 2019** æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆWindowsï¼‰
- **C++17** æ¨™æº–æ”¯æŒ

## ğŸ“ ä¾è³´æ¨¡å¡Š

- Core
- CoreUObject
- Engine
- InputCore
- EnhancedInput

## ğŸ¯ ä¸‹ä¸€æ­¥é–‹ç™¼å»ºè­°

1. **UI ç³»çµ±** - æ·»åŠ ç‰Œçµ„é¡¯ç¤ºã€åˆ†æ•¸é¢æ¿ã€è¨ˆæ™‚å™¨ç­‰
2. **è¼¸å…¥ç³»çµ±** - æ•´åˆé¼ æ¨™å’Œè§¸å±æ§åˆ¶
3. **AI å°æ‰‹** - æ·»åŠ é›£åº¦ç´šåˆ¥çš„ AI ç©å®¶
4. **éŸ³æ•ˆå’Œå‹•ç•«** - å¢å¼·è¦–è¦ºå’Œè½è¦ºé«”é©—
5. **ç¶²çµ¡åŠŸèƒ½** - æ”¯æŒå¤šäººåœ¨ç·šéŠæˆ²
6. **é«˜ç´šè¦å‰‡** - æŠ€èƒ½å¡ç‰Œã€ç‰¹æ®Šæ•ˆæœç­‰

## ğŸ“„ è¨±å¯è­‰

åŸºæ–¼ Unreal Engine é–‹ç™¼ï¼Œéµå¾ª Epic Games è¨±å¯å”è­°ã€‚

## ğŸ¤ è²¢ç»

æ­¡è¿æå‡ºå•é¡Œå’Œå»ºè­°ï¼

---

**æœ€å¾Œæ›´æ–°**: 2025å¹´11æœˆ26æ—¥